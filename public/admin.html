<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Admin - Participants</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://unpkg.com/konva@9.3.3/konva.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <header class="participant-header">
        <div>
            <h1>Admin Dashboard</h1>
        </div>
        <div class="header-actions">
            <button id="logout-btn">Logout</button>
        </div>
    </header>

    <div class="participant-layout">
        <aside class="participant-sidebar">
            <h2>Sections</h2>
            <ul id="admin-sidebar" class="sidebar-list">
                <li class="sidebar-item active" data-view="database">Database</li>
                <li class="sidebar-item" data-view="forms">Forms</li>
                <li class="sidebar-item" data-view="bodymaps">Body Map</li>
            </ul>
        </aside>

        <main class="participant-main">
            <div id="database-view" class="admin-view">
                <h2>Database</h2>
                <div class="db-grid">
                    <div>
                        <h3>Tables</h3>
                        <ul id="tables-list" class="sidebar-list"></ul>
                    </div>
                    <div class="table-view">
                        <h3 id="table-title">Select a table</h3>
                        <div id="table-message" class="message"></div>
                        <div id="table-container"></div>
                    </div>
                </div>
            </div>

            <div id="forms-view" class="admin-view hidden">
                <div class="forms-grid">
                    <div>
                        <div class="forms-header">
                            <h2 id="form-builder-title">Form Builder</h2>
                            <button id="new-form-btn" type="button">New form</button>
                        </div>
                        <label>Title
                            <input type="text" id="form-title" />
                        </label>
                        <label>Description
                            <textarea id="form-description" rows="3"></textarea>
                        </label>
                        <label>Release date/time
                            <input type="datetime-local" id="form-release" />
                        </label>
                        <label>
                            <input type="checkbox" id="form-active" checked />
                            Active
                        </label>
                        <button id="add-question-btn" type="button">Add question</button>
                        <div id="questions-container"></div>
                        <button id="save-form-btn" type="button">Save form</button>
                        <div id="form-builder-message" class="message"></div>
                    </div>

                    <div>
                        <h3>Existing forms</h3>
                        <ul id="forms-list"></ul>
                    </div>
                </div>
            </div>

            <div id="bodymaps-view" class="admin-view hidden">
                <div class="forms-header">
                    <h2>Body Maps</h2>
                    <button id="load-all-bodymaps" type="button">Load all overlays</button>
                </div>
                <div class="bodymap-admin-controls">
                    <label>
                        Participant
                        <select id="bm-participant-select"></select>
                    </label>
                    <label>
                        Version
                        <select id="bm-version-select"></select>
                    </label>
                    <button id="bm-load-btn" type="button">Load</button>
                    <span id="bm-message" class="message"></span>
                </div>
                <div class="bodymap-admin-layout">
                    <div id="bm-canvas" class="bodymap-canvas">
                        <div class="bodymap-grid"></div>
                    </div>
                    <div id="bm-layers" class="bm-layers"></div>
                </div>
            </div>
        </main>
    </div>

    <script src="admin.js"></script>
</body>

</html>
